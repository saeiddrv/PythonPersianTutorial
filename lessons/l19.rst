.. role:: emoji-size

.. meta::
   :description: ฺฉุชุงุจ ุขููุฒุด ุฒุจุงู ุจุฑูุงูู ููุณ ูพุงุชูู ุจู ูุงุฑุณุ ุขููุฒุด ุด ฺฏุฑุง ุฏุฑ ูพุงุชููุ OOP ุฏุฑ ูพุงุชููุ  ุงูุชุฒุงุน ุฏุฑ ูพุงุชููุ Abstraction ู Metaclass ุฏุฑ ูพุงุชููุ ูุชุงฺฉูุงุณ ุฏุฑ ูพุงุชูู
   :keywords:  ุขููุฒุด, ุขููุฒุด ูพุงุชูู, ุขููุฒุด ุจุฑูุงูู ููุณ, ูพุงุชูู, ุชุงุจุน, ฺฉุชุงุจุฎุงูู, ูพุงุชูู, ุด ฺฏุฑุง ุฏุฑ ูพุงุชูู


ุฏุฑุณ ฑน: ุด ฺฏุฑุง (OOP) ุฏุฑ ูพุงุชูู: Metaclass ู Abstraction
========================================================================================================







:emoji-size:`โ` ุณุทุญ: ูุชูุณุท

----


.. contents:: ุณุฑูุตูโูุง
    :depth: 2

----


ูุชุงฺฉูุงุณ (Metaclass)
----------------------------------

**ูุชุงฺฉูุงุณ (Metaclass)** [`ุงุณูุงุฏ ูพุงุชูู <https://docs.python.org/3/reference/datamodel.html#metaclasses>`__] ุฏุฑ ูพุงุชูู ฺฉ ููููู ูพููุงู ุฏุฑ ุฑุงุจุทู ุจุง ูพุงุฏูโุณุงุฒ ุจุฑูุงููโููุณ ุด ฺฏุฑุง ูโุจุงุดุฏ. ุงฺฉุซุฑ ุจุฑูุงููโููุณโูุง ฺู ุงุฒ ุขู ุขฺฏุงู ุจุงุดูุฏ ู ฺู ุฎุฑุ ุจู ูุฏุฑุช ุงุฒ ุขู ุงุณุชูุงุฏู ูโฺฉููุฏ ู ุดุงุฏ ุดูุง ูฺฺฏุงู ูุงุฒ ุจู ุงุณุชูุงุฏู ุงุฒ ุงู ูุงุจูุช ูุฏุงุดุชู ุจุงุดุฏ ูู ุจุงุฏ ุจุฏุงูุฏ ุงู ูุงุจูุช ุงุณุช ฺฉู ุฏุฑ ุงฺฉุซุฑ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุด ฺฏุฑุง ุงุฑุงุฆู ููโุดูุฏ! 

.. image:: /_static/l19-python-metaclass-type.jpg
    :align: center

**ูุชุงฺฉูุงุณ ฺุณุชุ** ฺฉ ฺฉูุงุณ ุงุณุช ู ุงุดุง ฺฉู ุงุฒ ุขู ุงุฌุงุฏ ูโฺฏุฑุฏูุฏุ ฺฉูุงุณโูุง ูุณุชูุฏ! ุจุงุฑูุง ฺฏูุชู ุดุฏ ฺฉู ยซูุฑ ฺุฒ ุฏุฑ ูพุงุชูู ฺฉ ุด ุงุณุชยป ู ุงู ุฌููู ุญุช ุฎูุฏ ููุฌูุฏุช ฺฉูุงุณโูุง ุฑุง ูุฒ ุดุงูู ูโุดูุฏ. ุจุง ุงุฌุฑุง ุฏุณุชูุฑ ุชุนุฑู ฺฉูุงุณุ ฺฉ ุด ุงุฒ ููุน ``type`` ุฏุฑ ุญุงูุธู ุงุฌุงุฏ ูโฺฏุฑุฏุฏ ู ุงุฒ ูุงู ฺฉูุงุณ ุจุฑุง ุงุดุงุฑู ุจู ุขู ุด ุงุณุชูุงุฏู ูโุดูุฏ (ุฏุฑุณ ููุฏูู). ุงฺฉููู ูโุชูุงูู ุจฺฏูู ฺฉู  ``type`` ุฏุฑ ูุงูุน ฺฉ ูุชุงฺฉูุงุณ ูโุจุงุดุฏ::

    >>> class MyClassName:
    ...     pass
    ... 
    >>> obj = MyClassName()

    >>> type(obj)
    <class '__main__.MyClassName'>
    
    >>> type(MyClassName)
    <class 'type'>


    >>> isinstance(obj, MyClassName)
    True

    >>> isinstance(MyClassName, type)
    True
 

ุฏุฑ ููููู ฺฉุฏ ุจุงูุงุ ``MyClassName`` ฺฉูุงุณ ุง ููุน ุฏุงุฏูโุง ุจูุฏ ฺฉู ูุง ุฎูุฏูุงู ุขู ุฑุง ุชุนุฑู ฺฉุฑุฏู ุจูุฏู. ุจุง ุงู ุญุงู ุฌุงูุจ ุงุณุช ุจุฏุงูุฏ ุชูุงู ุงููุงุน ูพุด ุชุนุฑู ุดุฏู ุฏุฑ ูพุงุชูู ูู ุงุฒ ููุน ``type`` ูุณุชูุฏุ ุญุช ุฎูุฏ ``type``! ::

    >>> type(int)
    <class 'type'>
    >>> type(float)
    <class 'type'>
    >>> type(dict)
    <class 'type'>
    >>> type(list)
    <class 'type'>
    >>> type(tuple)
    <class 'type'>
    >>> type(str)
    <class 'type'>
    >>> type(complex)
    <class 'type'>
    >>> type(bool)
    <class 'type'>
    
    >>> type(type)
    <class 'type'>


ุฏุฑ ูุงูุน ``type`` ฺฉูุงุณ ุงุณุช ฺฉู ุชูุงู ฺฉูุงุณโูุง ูพุงุชูู ุจู ุตูุฑุช ูพุดโูุฑุถ ุงุฒ ุฑู ุขู ุงุฌุงุฏ ูโฺฏุฑุฏูุฏ. ``type`` ฺฉ ูุชุง ฺฉูุงุณ ุงุณุช ู ูพุงุชูู ุงู ูุงุจูุช ุฑุง ุจู ุดูุง ูโุฏูุฏ ฺฉู ูุชุง ฺฉูุงุณ ุฎูุฏุชุงู ุฑุง ุจุณุงุฒุฏุ ุจูุงุจุฑุงู ูโุชูุงูุฏ ฺฉูุงุณโูุง ุจุณุงุฒุฏ ฺฉู ฺฉ ุด ุงุฒ ูุชุง ฺฉูุงุณ ุดูุง ูุณุชูุฏุ ูุฌุงู ุงูฺฏุฒ ูุณุชุ! ุงฺฉุซุฑ ุฒุจุงูโูุง ุจุฑูุงููโููุณ ุชููุง ฺฉ ูพุงุฏูโุณุงุฒ ูพุดโูุฑุถ ุฏุฑ ุงุฎุชุงุฑ ุจุฑูุงููโููุณ ูุฑุงุฑ ูโุฏููุฏ ูู ุงู ูุงุจูุช ุฏุฑ ูพุงุชูู ุงูฺฉุงูุงุช ูุฏุฑุชููุฏ ุจุฑุง ุจุฑูุงููโููุณ ูุฑุงูู ูโุขูุฑุฏ ููฺูู thread-safetyุ ูุฏุฑุช ฺฉุงูู ูุฑุขูุฏ ุงุฌุงุฏ ุด ู...

ุงุฌุงุฏ ูุชุงฺฉูุงุณ
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

::

	>>> class SampleMetaClass(type):
	...     pass
	... 
	>>> class Sample(metaclass=SampleMetaClass):
	...      pass
	... 
	>>> 
	
	>>> type(SampleMetaClass)
	<class 'type'>
	
	>>> type(Sample)
	<class '__main__.SampleMetaClass'>

ุจุฑุง ุงุฌุงุฏ ูุชุง ฺฉูุงุณ ุชููุง ฺฉุงู ุงุณุช ฺฉ ฺฉูุงุณ ุฌุฏุฏ ุจุณุงุฒุฏ ฺฉู ุงุฒ ฺฉูุงุณ ``type`` ุงุฑุซโุจุฑ ุฏุงุดุชู ุจุงุดุฏ. ุจุง ุงุฑุณุงู ูุงู ุงู ฺฉูุงุณ ุจู ูพุงุฑุงูุชุฑ ``metaclass`` ูุฑ ฺฉูุงุณ ุฏฺฏุฑ ูโุชูุงู ุจู ุขูโูุง ุงูุชุณุงุจ ุฏุงุฏ.

ุจุญุซ ุงุดุง Callable ุฑุง ุงุฒ ุฏุฑุณ ููุฏูู ุจู ุงุฏ ุขูุฑุฏ -  ูุฑ ฺฉูุงุณ ุฏุฑ ูพุงุชูู ฺฉ ุด ุงุฒ ูุชุงฺฉูุงุณ ูุฑุจูุท ุจู ุฎูุฏุด ูโุจุงุดุฏุ ููฺูู ฺฏูุชู ุดุฏ ฺฉูุงุณโูุง ุฏุฑ ูพุงุชูู Callable ูุณุชูุฏุ ุจูุงุจุฑุงู ูุฑฺฏุงู ฺฉ ฺฉูุงุณ ูุฑุงุฎูุงู ูโุดูุฏ (ุฏุฑ ูุงูุน ุฒูุงู ฺฉู ฺฉ ุด ุงุฒ ุขู ฺฉูุงุณ ุงุฌุงุฏ ูโฺฏุฑุฏุฏ)ุ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ูุชุฏ ``__call__`` ูุชุง ฺฉูุงุณ ุขู ูุฒ ูุฑุงุฎูุงู ูโฺฏุฑุฏุฏ.

ุงฺฉููู ุฒูุงู ุงุณุช ฺฉู ูโุชูุงูุฏ ุชูุงู ูุฑุขูุฏ ุงุฌุงุฏ ฺฉ ุด ุฏุฑ ูพุงุชูู ุฑุง ุจุฏุงูุฏุ ุขู ุฑุง ุฏุฑ ุฏุณุช ุจฺฏุฑุฏ ู ูุฑ ฺฉุงุฑ ฺฉู ูุงุฒ ุฏุงุฑุฏ ุฑุง ุจู ุงูุฌุงู ุจุฑุณุงูุฏ!:


.. code-block:: python
    :linenos: 
    
    class MetaClass(type):

        def __call__(self, *args, **kwargs):
            print('\n------->>> MetaClass __call__')
            print('self: ', self)
            print('args: ', args)
            print('kwargs: ', kwargs)
            
            obj = self.__new__(self, *args, **kwargs)    
    
            if obj is not None and isinstance(obj, self) and hasattr(obj, '__init__'):
                 obj.__init__(*args, **kwargs)
             
            return obj


    class Sample(metaclass=MetaClass):

        def __new__(cls, *args, **kwargs): 
            print('\n------->>> Sample __new__')
            print('cls: ', cls)
            print('args: ', args)
            print('kwargs: ', kwargs)
            
            obj = super().__new__(cls)
            return obj
        
        def __init__(self, x=0, y=0, z=0):
            print('\n------->>> Sample __init__')
            print('self: ', self)
            print('x: ', x)
            print('y: ', y)
            print('z: ', z)
            
            self.x = x
            self.y = y
            self.z = z


    sample_obj = Sample('p_arg_1', 'p_arg_2', z='k_arg')



::

    ------->>> MetaClass __call__
    self:  <class '__main__.Sample'>
    args:  ('p_arg_1', 'p_arg_2')
    kwargs:  {'z': 'k_arg'}

    ------->>> Sample __new__
    cls:  <class '__main__.Sample'>
    args:  ('p_arg_1', 'p_arg_2')
    kwargs:  {'z': 'k_arg'}

    ------->>> Sample __init__
    self:  <__main__.Sample object at 0x7f578772f3d0>
    x:  p_arg_1
    y:  p_arg_2
    z:  k_arg









ุจุฑ ุงุณุงุณ ุชุนุฑู ุงุฑุงุฆู ุดุฏู ุฏุฑ [`ุงุณูุงุฏ ูพุงุชูู <https://docs.python.org/3/glossary.html#term-metaclass>`__]ุ ุชุนุฑู ฺฉูุงุณ (ุฏุณุชูุฑ ``class``) ุจุงุนุซ ุงุฌุงุฏ ยซูุงู ฺฉูุงุณยปุ ยซฺฉ ุด ุฏฺฉุดูุฑ ุงุฒ ฺฉูุงุณยป ู ยซฺฉ  ุด ูุณุช ุญุงู superclassูุง ุขู ฺฉูุงุณยป ูโุดูุฏุ ูุชุงฺฉูุงุณ ุงู ุณู ุขุฑฺฏููุงู ุฑุง ุฏุฑุงูุช ู ุด ฺฉูุงุณ ุฑุง ุงุฌุงุฏ ูโฺฉูุฏ.




ุงูุชุฒุงุน (Abstraction)
----------------------------------



|

----

:emoji-size:`๐` ุงูุฏูุงุฑู ููุฏ ุจูุฏู ุจุงุดู

`ูุทูุง ุฏุฏฺฏุงู ู ุณูุงูโูุง ูุฑุชุจุท ุจุง ุงู ุฏุฑุณ ุฎูุฏ ุฑุง ุฏุฑ ฺฉุฏุฑุฒ ูุทุฑุญ ููุงุฏ. <https://www.coderz.ir/python-tutorial-oop-metaclass-abstraction>`_



