.. role:: emoji-size

.. meta::
   :description: ฺฉุชุงุจ ุขููุฒุด ุฒุจุงู ุจุฑูุงูู ููุณ ูพุงุชูู ุจู ูุงุฑุณุ ุขููุฒุด ูุงฺูู re ุฏุฑ ูพุงุชููุ ุนุจุงุฑุงุช ุจุงูุงุนุฏู ุฏุฑ ูพุงุชููุ Regular expression ุฏุฑ ูพุงุชููุ regex ุฏุฑ ูพุงุชูู
   :keywords:  ุขููุฒุด, ุขููุฒุด ูพุงุชูู, ุขููุฒุด ุจุฑูุงูู ููุณ, ูพุงุชูู, ุชุงุจุน, ฺฉุชุงุจุฎุงูู, ูพุงุชูู, re


ุฏุฑุณ ฑถ: Regular Expression ุฏุฑ ูพุงุชูู - ุจุฎุด ฒ
============================================================================

ุงู ุฏุฑุณ ุฏุฑ ุงุฏุงูู ุฏุฑุณ ูุจู (ูพุงูุฒุฏูู) ูโุจุงุดุฏ ู ุจู ุดุฑุญ ุชุงุจุนโูุง ฺฉุงุฑุจุฑุฏ ููุฌูุฏ ุฏุฑ ูุงฺูู ``re`` ูพุงุชูู ูโูพุฑุฏุงุฒุฏ. ูพุด ุงุฒ ูุทุงูุนู ุงู ุฏุฑุณ ูโุจุงุณุช ุญุชูุง ุฏุฑุณ ูุจู ุฑุง ูุฒ ูุทุงูุนู ฺฉุฑุฏู ุจุงุดุฏ.





:emoji-size:`โ` ุณุทุญ: ูุชูุณุท

----


.. contents:: ุณุฑูุตูโูุง
    :depth: 2

----




ุชูุงุจุน ุฌุณุชุฌู 
---------------------------------------

ุชูุงุจุน ูพุฑฺฉุงุฑุจุฑุฏ ูุงฺูู ``re`` ูพุงุชูู ูุฑุชุจุท ุจุง ุนูู ุฌุณุชุฌู ุฏุฑ ฺฉ ูุชู ุนุจุงุฑุชูุฏ ุงุฒ: 

* ``search``
* ``match``  
* ``fullmatch``  
* ``findall``  
* ``finditer``  


ุชุงุจุน ``search``
~~~~~~~~~~~~~~~~~~~~~~


``search(pattern, string, flags=0)``

ุชุงุจุน ``search`` ุจู ุฏูุจุงู ุงููู ุงูุทุจุงู pattern ุฏุฑ string ูโฺฏุฑุฏุฏุ ุฏุฑ ุตูุฑุช ููููุช ฺฉ ุด ``Match`` [`ุงุณูุงุฏ ูพุงุชูู <https://docs.python.org/3/library/re.html#match-objects>`__] ู ุฏุฑ ุบุฑ ุงู ุตูุฑุช ``None`` ุจุฑูโฺฏุฑุฏุงูุฏ [`ุงุณูุงุฏ ูพุงุชูู <https://docs.python.org/3/library/re.html#re.search>`__]::


    >>> # Python 2.x
    >>> 
    >>> import re
    >>> 
    >>> match = re.search('Py...n', 'Python is great')
    >>> 
    >>> type(match)
    <type '_sre.SRE_Match'>
    >>> 

::


    >>> # Python 3.x
    >>> 
    >>> import re
    >>> 
    >>> match = re.search('Py...n', 'Python is great')
    >>> 
    >>> type(match)
    <class 're.Match'>


ุงุฌุงุฒู ุจุฏูุฏ ุงุฏุขูุฑ ฺฉูู ฺฉู ุฏู ููููู ฺฉุฏ ุฒุฑ ุนููฺฉุฑุฏ ูุนุงุฏู ฺฉุฏฺฏุฑ ุฏุงุฑูุฏ::


    >>> pattern = re.compile('Py...n')
    >>> match = pattern.search('Python is great')

::

    >>> match = re.search('Py...n', 'Python is great')



ุด ``Match`` ูพุงุชูู
~~~~~~~~~~~~~~~~~~~~~~~~~~~~


::

    >>> pattern = re.compile('Py...n')
    >>> match = pattern.search('Python is great')
    >>> 
    >>> if match:
    ...     print(match.group())
    ... else:
    ...     print("pattern not found")
    ... 
    Python
    >>> 

::

    >>> dir(match)
    ['__class__', '__copy__', '__deepcopy__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', 'end', 'endpos', 'expand', 'group', 'groupdict', 'groups', 'lastgroup', 'lastindex', 'pos', 're', 'regs', 'span', 'start', 'string']

ุฏุฑ ุงุฏุงูู ุจู ุจุฑุฑุณ ุจุฑุฎ ุงุฒ ูุชุฏูุง ููู ุงู ุด ูโูพุฑุฏุงุฒู:
  

 * ``Match.group([group1, ...])`` [`ุงุณูุงุฏ ูพุงุชูู <https://docs.python.org/3/library/re.html#re.Match.group>`__]

  ุงู ูุชุฏ ุงุฒ ุด ``Match``ุ ฺฏุฑูู (ูุง) ุชุทุจู ุฏุงุฏู ุดุฏู ุจุฑ ุงุณุงุณ ุงูฺฏู ููุฑุฏ ูุธุฑ ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ. ุงู ูุชุฏ ูโุชูุงูุฏ ฺฉ ุง ฺูุฏ ุขุฑฺฏููุงู ุนุฏุฏ ุฏุฑุงูุช ฺฉูุฏ ฺฉู ูุนุฑู ุงูุฏุณ ฺฏุฑูู ููุฑุฏ ูุธุฑ ูโุจุงุดุฏ. ุฏุฑ ุญุงูุช ูุฑุงุฎูุงู ุจุฏูู ุขุฑฺฏููุงู ุชูุงู ฺฏุฑููโูุง ุชุทุจู ุฏุงุฏู ุดุฏู ุจู ุตูุฑุช ฺฉ ููุฏุงุฑ ุฑุดุชู ุจุฑฺฏุฑุฏุงูุฏู ูโุดูุฏ ู ุฏุฑ ุตูุฑุช ุชููุง ฺฉ ููุฏุงุฑ ุจู ุขู ุงุฑุณุงู ฺฏุฑุฏุฏุ ฺฏุฑูู ุชุทุจู ุฏุงุฏู ุดุฏู ูุชูุงุธุฑ ุจุง ุขู ุงูุฏุณ (ุดูุงุฑุด ุงูุฏุณโูุง ุงุฒ ฺฉ ุงุณุช) ุฏุฑ ูุงูุจ ฺฉ ุด ุฑุดุชู ุจุฑฺฏุฑุฏุงูุฏู ูโุดูุฏ ู ุฏุฑ ุตูุฑุช ฺฉู ุจุด ุงุฒ ฺฉ ุงูุฏุณ ุจู ุนููุงู ุขุฑฺฏููุงู ุงุฑุณุงู ฺฏุฑุฏุฏ ฺฉ ุด ุชุงูพู ูุญุชู ฺฏุฑููโูุง ุชุทุจู ุฏุงุฏู ุดุฏู ุจุฑฺฏุฑุฏุงูุฏู ุฎูุงูุฏ ุดุฏ. ฺูุงูฺู ุขุฑฺฏููุงู ุงุฑุณุงู ุนุฏุฏ ููู ุจุงุดุฏ ุง ุงูุฏุณ ุจุงูุงุชุฑ ุงุฒ ุชุนุฏุงุฏ ฺฏุฑููโูุง ุชุทุจู ุฏุงุฏู ุดุฏู ุจุงุดุฏุ ฺฉ ุงุณุชุซูุง ``IndexError`` ุฑุฎ ุฎูุงูุฏ ุฏุงุฏ::

    >>> match = re.search("(\w+) (\w+)", "Isaac Newton, physicist") 
    >>> match.group()        # The entire match
    'Isaac Newton'
    >>> match.group(0)       # The entire match
    'Isaac Newton'
    >>> match.group(1)       # The first parenthesized subgroup.
    'Isaac'
    >>> match.group(2)       # The second parenthesized subgroup.
    'Newton'
    >>> match.group(1, 2)    # Multiple arguments give us a tuple.
    ('Isaac', 'Newton')

    >>> match.group(3)
    Traceback (most recent call last):
      File "<stdin>", line 1, in <module>
    IndexError: no such group
    
  ุฏุฑ ุตูุฑุช ฺฉู ุงูฺฏู ููุฑุฏ ูุธุฑ ุดุงูู ูฺ ฺฏุฑููุจูุฏ ูุจุงุดุฏุ ูุฑุงุฎูุงู ุจุฏูู ุขุฑฺฏููุงู (ุง ุงุฑุณุงู ุขุฑฺฏููุงู ุตูุฑ) ุงู ูุชุฏุ ุชูุงู ูุชู ุชุทุจู ุฏุงุฏู ุดุฏู ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ::
  
  
    >>> pattern = re.compile('Py...n')
    >>> match = pattern.search('Python is great')
    >>> match.group()
    'Python'
    
    >>> match.group(0)
    'Python'
    
    >>> match.group(1)
    Traceback (most recent call last):
      File "<stdin>", line 1, in <module>
    IndexError: no such group
    >>> 




  * ``Match.groups(default=None)`` [`ุงุณูุงุฏ ูพุงุชูู <https://docs.python.org/3/library/re.html#re.Match.groups>`__]

  ุงู ูุชุฏ ุชูุงู ฺฏุฑููโูุง ุชุทุจู ุฏุงุฏู ุดุฏู ุจุฑ ุงุณุงุณ ุงูฺฏู ููุฑุฏ ูุธุฑ ุฑุง ุฏุฑ ูุงูุจ ฺฉ ุด ุชุงูพู ุจุฑูโฺฏุฑุฏุงูุฏ. ุงู ูุชุฏ ูโุชูุงูุฏ ฺฉ ุขุฑฺฏููุงู ุจูพุฐุฑุฏ ฺฉู ูุนุฑู ููุฏุงุฑ ูพุดโูุฑุถ ุจุฑุง ุฌุงฺฏุฐุงุฑ ฺฏุฑููโูุง ุงุณุช ฺฉู ุฏุฑ ุฑุดุชู ูุฑูุฏ ุชุทุจู ุฏุงุฏู ูุดุฏูโุงูุฏุ ุฏุฑ ุญุงูุช ุนุงุฏ (ุจุฏูู ุงุฑุณุงู ุขุฑฺฏููุงู) ุงู ููุฏุงุฑ ุจุฑุงุจุฑ ุจุง ``None`` ุงุณุช::

    >>> match = re.search("(\d+)\.(\d+)", "24.1632")
    >>> match.groups()
    ('24', '1632')

  ::

       >>> match = re.search("(\d+)\.?(\d+)?", "24")
       >>> match.groups()      # Second group defaults to None.
       ('24', None)
       >>> match.groups('0')   # Now, the second group defaults to '0'.
       ('24', '0')
       
       
  ::
  
      >>> pattern = re.compile('Py...n')  # The pattern is without grouping
      >>> match = pattern.search('Python is great')
      >>> match.groups()
      ()


  * ``Match.groupdict(default=None)`` [`ุงุณูุงุฏ ูพุงุชูู <https://docs.python.org/3/library/re.html#re.Match.groupdict>`__]

    ุงู ูุชุฏ ฺฉ ุด ุฏฺฉุดูุฑ (dict) ุญุงู ุญุงุตู ุชุทุงุจู ุชูุงู ฺฏุฑููโูุง ุจุงูุงู (Named Groups) ููุฌูุฏ ุฏุฑ ุงูฺฏู ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ::


      >>> import re

      >>> match = re.search("(?P<first_name>\w+) (?P<last_name>\w+)", "Elvis Presley")
      >>> match.groupdict()
      {'first_name': 'Elvis', 'last_name': 'Presley'}

      >>> match.group()
      'Elvis Presley'
      >>> match.group(1)
      'Elvis'
      >>> match.group(2)
      'Presley'

      >>> match.groups()
      ('Elvis', 'Presley')

    ุงู ูุชุฏ ูุฒ ููุงููุฏ ูุชุฏ ``groups`` ฺฉ ูพุงุฑุงูุชุฑ ุงุฎุชุงุฑ ุฏุงุฑุฏ ฺฉู ุฏุฑ ุตูุฑุช ุงุฑุณุงู ุขุฑฺฏููุงู ุจู ุขู ุจู ุฌุง ููุฏุงุฑ ูพุดโูุฑุถ ``None`` ุจุฑุง ุญุงุตู ุนุฏู ุชุทุงุจู ฺฏุฑููโูุง ููุฌูุฏ ุฏุฑ ุงูฺฏู ูุฑุงุฑ ูโฺฏุฑุฏ::

      >>> import re

      >>> match = re.search("(?P<first_name>\w+) (?P<nick_name>`\w+`\s)?(?P<last_name>\w+)", "Elvis `The King` Presley")
      >>> match.groupdict()
      {'first_name': 'Elvis', 'nick_name': '`The King` ', 'last_name': 'Presley'}

      >>> match = re.search("(?P<first_name>\w+) (?P<nick_name>`\w+`\s)?(?P<last_name>\w+)", "Elvis Presley")
      >>> match.groupdict()
      {'first_name': 'Elvis', 'nick_name': None, 'last_name': 'Presley'}

      >>> match.groupdict("---") # or match.groupdict(default="---")
      {'first_name': 'Elvis', 'nick_name': '---', 'last_name': 'Presley'}



  * ``Match.expand(template)`` [`ุงุณูุงุฏ ูพุงุชูู <https://docs.python.org/3/library/re.html#re.Match.expand>`__]

    ุงู ูุชุฏ ุญุงุตู ุงูุทุจุงู ุฑุง ุฏุฑ ูุงูุจ ``template`` ุฌุงฺฏุฐุงุฑ ฺฉุฑุฏู ู ฺฉ ุด ุฑุดุชู ุฌุฏุฏ ุจุฑูโฺฏุฑุฏุงูุฏ. ูุงูุจ ุฏุฑ ุงูุฌุง ฺฉ ุฑุดุชู ุงุณุช ฺฉู ุฏุฑ ุขู ูโุชูุงู ุจู ุญุงุตู ุงูุทุจุงู ฺฏุฑููุจูุฏโูุง ููุฌูุฏ ุฏุฑ ุงูฺฏู ุงุฑุฌุงุน ุฏุงุฏ ุจู ุงู ุตูุฑุช ฺฉุฑุฏ ฺฉู ูโุชูุงู ฺฏุฑููโูุง ุจโูุงู ููุฌูุฏ ุฏุฑ ุงูฺฏู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุงุฑุฌุงุน ุนุฏุฏ ุจู ุดูุงุฑู ุงูุฏุณ ุขูโูุง ุจู ูุงููุฏ ``1\``ุ ``2\`` ู ฺฏุฑููโูุง ุจุงูุงู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ ูุงู ฺฏุฑูู ุจู ูุงููุฏ ``<g<name\`` ุง ``<g<1\`` ุฏุฑ ูุงูุจ ููุฌูุฏ ุฌุงฺฏุฐุงุฑ ฺฉุฑุฏ. Escape characterโูุง ููุฌูุฏ ุฏุฑ ูุงูุจ ุจู ฺฉุงุฑุงฺฉุชุฑูุง ููุงุณุจ ุฎูุฏ ุฏุฑ ูุชู ุฎุฑูุฌ ุชุจุฏู ูโุดููุฏ ู ุงุฒ **ูุณุฎู 3.5 ูพุงุชูู** ฺฏุฑููโูุง ฺฉู ูฺ ุงูุทุจุงู ูุฏุงุดุชูโุงูุฏ ุจุง ูฺ (empty string) ุฌุงฺฏุฐุงุฑ ูโุดููุฏ::

        >>> import re

        >>> match = re.search('(\w+),(\w+),(\w+)', 'Jazz,Rock,Pop')
        >>> match.groups()
        ('Jazz', 'Rock', 'Pop')
        
        >>> match.expand('-->\1---->\2------>\3') # Wrong result!!!
        '-->\x01---->\x02------>\x03'

        >>> match.expand('-->\\1---->\\2------>\\3')
        '-->Jazz---->Rock------>Pop'

        >>> match.expand(r'-->\1---->\2------>\3')
        '-->Jazz---->Rock------>Pop'


    .. note::
        ุฏุฑ ููููู ฺฉุฏ ุจุงูุงุ ุฎุฑูุฌ ูุฎุณุชู ุงุณุชูุงุฏู ุงุฒ ูุชุฏ ``expand`` ูุชูุงุณุจ ุจุง ุงูุชุธุงุฑ ูุณุชุ ุฏูู ูู ูุฑุจูุท ุจู ูุฌูุฏ ฺฉุงุฑุงฺฉุชุฑูุง ุจุง ``\`` ุงุณุช (escape characters) ฺฉู ุจุงุนุซ ุจุฑูุฒ ุงุฎูุงู ุฏุฑ ุชุญูู ุฑุดุชู ูุงูุจ ุดุฏู ุงุณุช. ุจูุชุฑ ุงุณุช ููุดู ุฏุฑ ุงู ููุงูุน ุงุฒ ููุงูู **raw string** ูพุฑู ููุงู: ุงุณุชูุงุฏู ุงุฒ ``\\`` ุจู ุฌุง ``\`` (ููุงููุฏ ``n\\``) ุง ูุฑุงุฑ ุฏุงุฏู ฺฉ ฺฉุงุฑุงฺฉุชุฑ ``r`` ุง ``R`` ุฏุฑ ุงุจุชุฏุง ุฑุดุชู (ููุงููุฏ ``'r'\n``). ุฏุฑ ุงู ุตูุฑุช ฺฉุงุฑุงฺฉุชุฑูุง ููฺูู newline ุง ``n\`` ุฏุฑ ุฑุดุชูุ ูุนูุง ุฎูุฏ ุฑุง ุงุฒ ุฏุณุช ูโุฏููุฏ. (ุงุฏุขูุฑ ุงุฒ ุฏุฑุณ ููุชู)


    .. tip::
        ุจูุง Backslash [`ุงุณูุงุฏ ูพุงุชูู <https://docs.python.org/3/howto/regex.html#the-backslash-plague>`__] 

        ููุดู ุฏุฑ ููฺฏุงู ฺฉุงุฑ ุจุง RegEx (ูู ููุท ุฏุฑ ุฒุจุงู ูพุงุชูู!) ููุงุธุจ escape characters ุง backslash characters ุจุงุดุฏ.

    ::

           >>> match = re.search('(?P<num>\d+)', 'Top 100 songs')
           >>> match.group(1)
           '100'

           >>> match.expand('--- \g<num> ---')
           '--- 100 ---'
           >>> match.expand('--- \g<1> ---')
           '--- 100 ---'




  * ``Match.start([group])`` [`ุงุณูุงุฏ ูพุงุชูู <https://docs.python.org/3/library/re.html#re.Match.start>`__]    ``Match.end([group])`` [`ุงุณูุงุฏ ูพุงุชูู <https://docs.python.org/3/library/re.html#re.Match.end>`__]

  ูุชู ุฑุดุชู ุฎุฑูุฌ (ุชุทุจู ุงูุชู ุจุฑ ุงุณุงุณ ุงูฺฏู ููุฑุฏ ูุธุฑ) ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏุ ูุชุฏ ``start`` ุงูุฏุณ ุดุฑูุน ุงู ูุชู ุงุฒ ุฑุดุชู ูุฑูุฏ ู ูุชุฏ ``end``  ุงูุฏุณ ููุทู ูพุงุงู ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ. ุงู ุฏู ูุชุฏ ูโุชูุงููุฏ ฺฉ ุขุฑฺฏููุงู ุงุฎุชุงุฑ ูุฒ ุฏุฑุงูุช ฺฉููุฏ ฺฉู ูุนุฑู ุงูุฏุณ ฺฉ ฺฏุฑูู ูุดุฎุต ุฏุฑ ุงูฺฏู ูโุจุงุดุฏุ ุจุง ุงุฑุณุงู ุงู ุขุฑฺฏููุงู ูุชุงุฌ ุจุฑ ุงุณุงุณ ุชฺฉู ูุชู ุชุทุจู ุฏุงุฏู ุดุฏู ุจุง ุขู ฺฏุฑูู ุจุฑฺฏุฑุฏุงูุฏู ุฎูุงูุฏ ุดุฏ::

    >>> email = "tony@tiremove_thisger.net"
    >>> match = re.search("remove_this", email)
    >>> match.start()
    7
    >>> match.end()
    18
    >>> email[match.start() : match.end()]
    'remove_this'
    >>> email[:match.start()] + email[match.end():]
    'tony@tiger.net'

  ::

       >>> match = re.search("(\d+)\.(\d+)", "24.1632")

       >>> match.start()
       0
       >>> match.end()
       7

       >>> match.start(1)
       0
       >>> match.end(1)
       2

       >>> match.start(2)
       3
       >>> match.end(2)
       7
       >>> 


  * ``Match.span([group])`` [`ุงุณูุงุฏ ูพุงุชูู <https://docs.python.org/3/library/re.html#re.Match.span>`__]

  ุงู ูุชุฏ ฺฉ ุด ุชุงูพู ุฏูุชุง ุงุฒ ุฎุฑูุฌ ุฏู ูุชุฏ ``start``  ู ``end``  ุฑุง ุจุฑ ูโฺฏุฑุฏุงูุฏ ู ููุงููุฏ ุขููุง ูุฒ ฺฉ ุขุฑฺฏููุงู ุงุฎุชุงุฑ ุฏุงุฑุฏ - ููููู ุฎุฑูุฌ: ``(m.start(group), m.end(group))``::

    >>> match = re.search("(\d+)\.(\d+)", "24.1632")
    >>> match.span()
    (0, 7)
    >>> match.span(1)
    (0, 2)
    >>> match.span(2)
    (3, 7)
    >>> match.span(3)
    Traceback (most recent call last):
      File "<stdin>", line 1, in <module>
    IndexError: no such group

  * ``Match.re`` [`ุงุณูุงุฏ ูพุงุชูู <https://docs.python.org/3/library/re.html#re.Match.re>`__]    ``Match.string`` [`ุงุณูุงุฏ ูพุงุชูู <https://docs.python.org/3/library/re.html#re.Match.string>`__]

  ุงู ุฏู ูุชุบุฑ ุจู ุชุฑุชุจ ุญุงู  ุด RegEx ุงูฺฏู ู ูุชู ููุฑุฏ ูุธุฑ ุฌูุช ุงูุฌุงู ุนููุงุช ุชุทุงุจู ุฎูุงููุฏ ุจูุฏ::

    >>> email = "tony@tiremove_thisger.net"
    >>> match = re.search("remove_this", email)

    >>> match.re
    re.compile('remove_this')

    >>> match.string
    'tony@tiremove_thisger.net'

    >>> match.string[match.start() : match.end()]
    'remove_this'

  ::

       >>> match = re.search("(\d+)\.(\d+)", "24.1632")

       >>> match.re
       re.compile('(\\d+)\\.(\\d+)')

       >>> match.string
       '24.1632'






|

----

:emoji-size:`๐` ุงูุฏูุงุฑู ููุฏ ุจูุฏู ุจุงุดู

`ูุทูุง ุฏุฏฺฏุงู ู ุณูุงูโูุง ูุฑุชุจุท ุจุง ุงู ุฏุฑุณ ุฎูุฏ ุฑุง ุฏุฑ ฺฉุฏุฑุฒ ูุทุฑุญ ููุงุฏ. <http://www.coderz.ir/python-tutorial-re-regex/>`_



