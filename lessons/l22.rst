.. role:: emoji-size

.. meta::
   :description: ฺฉุชุงุจ ุขููุฒุด ุฒุจุงู ุจุฑูุงูู ููุณ ูพุงุชูู ุจู ูุงุฑุณุ ุขููุฒุด ุด ฺฏุฑุง ุฏุฑ ูพุงุชููุ OOP ุฏุฑ ูพุงุชููุ ุฏุชุง ฺฉูุงุณ ุฏุฑ ูพุงุชููุ Data Classe ุฏุฑ ูพุงุชูู
   :keywords:  ุขููุฒุด, ุขููุฒุด ูพุงุชูู, ุขููุฒุด ุจุฑูุงูู ููุณ, ูพุงุชูู, Data Class, ฺฉุชุงุจุฎุงูู, ูพุงุชูู, ุด ฺฏุฑุง ุฏุฑ ูพุงุชูู


ุฏุฑุณ ฒฒ: ุด ฺฏุฑุง (OOP) ุฏุฑ ูพุงุชูู: ุฏุชุง ฺฉูุงุณ (Data Class)
===================================================================================================

ุงู ุฏุฑุณ ุจู ุนููุงู ุขุฎุฑู ุจุฎุด ุงุฒ ุฏุฑูุณ ุขููุฒุด ุดโฺฏุฑุง ุฏุฑ ุฒุจุงู ุจุฑูุงููโููุณ ูพุงุชูู ุจู ุดุฑุญ ฺฉ ูฺฺฏ ุฌุฏุฏ ุฏุฑ ุงู ุฒุจุงู ุจุง ูุงู **ุฏุชุง ฺฉูุงุณ (Data Class)** ูโูพุฑุฏุงุฒุฏ. ุงูุจุชู ูพุด ุงุฒ ุดุฑูุน ูุงุฒู ุงุณุช ุจุง ฺฉ ุณูุชฺฉุณ ุฌุฏุฏ ูุฒ ุฏุฑ ูพุงุชูู ุขุดูุง ุดููุ ุฏุฑ ุงู ุณูุชฺฉุณ ูุง ููุน ุฏุงุฏูโูุง ุฎูุฏ ุฑุง ูุฒ ุจู ุตุฑุงุญุช ุฐฺฉุฑ ูโฺฉููุ ุดููโุง ฺฉู Type Hints [`PEP 484 <https://www.python.org/dev/peps/pep-0484/>`__] ุฎูุงูุฏู ูโุดูุฏ.


ุชูุฌู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุชูุงู ูุทุงูุจ ุงู ุฏุฑุณ ุชููุง ุงุฒ ูุณุฎูโูุง 3.5 ุจู ุจุนุฏ ูพุงุชูู ูพุดุชุจุงู ูโฺฏุฑุฏุฏ (ูุฑ ุฌุง ฺฉู ุจู ูุณุฎูโุง ุจุงูุงุชุฑ ูุงุฒ ุจุงุดุฏุ ุจู ุตุฑุงุญุช ุฐฺฉุฑ ูโฺฏุฑุฏุฏ).



:emoji-size:`โ` ุณุทุญ: ูุชูุณุท

----


.. contents:: ุณุฑูุตูโูุง
    :depth: 2

----



Type Hinting
----------------------------

ุฒุจุงู ุจุฑูุงููโููุณ ูพุงุชูู ููฺูุงู ฺฉ ุฒุจุงู ุจุฑูุงููโููุณ ูพูุง (Dynamic) ูโุจุงุดุฏ ุงูุง ุงู ุฒุจุงู ุงุฒ ูุณุฎู 3.5 ุจู ุจุนุฏ ุชูุงุด ฺฉุฑุฏู ุฏุฑ ูพุงุณุฎ ุจู ูุงุฒ ฺฉุงูููุช ู ูุฒ ฺฉูฺฉ ุจู ุชูุณุนู ู ุจูุจูุฏ ุนููฺฉุฑุฏ ุงุจุฒุงุฑูุง ุดุฎุต ุซุงูุซ (3rd party) ููฺูู Linterูุงุ Type checkerูุง ุง IDEูุงุ ุงุณุชุงูุฏุงุฑุฏ ู ูุฒ ุณูุชฺฉุณ ุงูฺฉุงู ุฏุฑุฌ ููุน ุฑุง ูุฑุงูู ุจุงูุฑุฏ. ุณูุชฺฉุณ ุงู ูุงุจูุช ุฏุฑ ูพุงุชูู ุงููุงู ฺฏุฑูุชู ุงุฒ ุงุจุฒุงุฑ mypy [`ูุจโุณุงุช <http://mypy-lang.org>`__] ฺฉู ฺฉ Static type checker ุงุณุชุ ูโุจุงุดุฏ. 

[`ุณูุงู ูุฑุชุจุท ุฏุฑ StackOverflow <https://stackoverflow.com/q/32557920>`__]

ฺฉุฏ ููุณ ุจุง Type Hinting ฺฉ ุงูุฑ ุงุฎุชุงุฑ ุจูุฏู ฺฉู ุฏุฑ ูุงูุน ฺุฒ ูุดุงุจู ูุณุชูุฏุณุงุฒ ูโุจุงุดุฏ ูู ุจุงุนุซ ุงูุฒุงุด ุฎูุงูุง ฺฉุฏ ูโฺฏุฑุฏุฏ. ููฺูู ุจู ุดุฑุท ุงุณุชูุงุฏู ุงุฒ ุงุจุฒุงุฑูุง ุงุณุชุงูุฏุงุฑุฏ ู ุจุฑุฑุณ ฺฉุงูู ฺฉุฏ ูพุด ุงุฒ ุงุฌุฑุงุ ูโุชูุงูุฏ ุงุฒ ุจุฑูุฒ ุจุฑุฎ ุฎุทุงูุง runtime ุฌููฺฏุฑ ููุงุฏ.


ุงุณุชูุงุฏู ุงุฒ mypy
~~~~~~~~~~~~~~~~~~~~~~

ููููู ฺฉุฏูุง ฺฉู ุฏุฑ ุงู ุจุฎุด ุงุฑุงุฆู ูโุดูุฏุ ููฺฏ ูุงุจูุช ุชุณุช ุง ุจุฑุฑุณ ููุน ุฑุง ุจุง ุงุจุฒุงุฑูุง  ุดุฎุต ุซุงูุซ ุงุณุชุงูุฏุงุฑุฏ ููฺูู mypy ุฑุง ุฏุงุฑุฏ. ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุงู ุงุจุฒุงุฑ ูโุจุงุณุช ุงุจุชุฏุง ุขู ุฑุง ูุตุจ ููุงุฏ::

     $ pip3 install mypy


ูพุณ ุงุฒ ูุตุจ ุฌูุช ุจุฑุฑุณ ฺฉุฏุ ุงุจุชุฏุง ูุงุฒู ุงุณุช ฺฉุฏ ุฎูุฏ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ mypy ฺฉุงููพุงู ููุงุฏ::

     $ mypy program.py


ูพุณ ุงุฒ ุจุฑุฑุณุ debugging ู ุฑูุน ุฎุทุงูุง ุงุญุชูุงู ุงฺฉููู ูโุชูุงูุฏ ุจุฑูุงูู ุฎูุฏ ุฑุง ุงุฌุฑุง ููุงุฏ::


     $ python3 program.py


Variable Annotations 
~~~~~~~~~~~~~~~~~~~~~~

ุณูุชฺฉุณ ุฏุฑุฌ ููุน ุจุฑุง ูุชุบุฑูุง ฺฉู ุฏุฑ ูุณุฎู 3.6 ูพุงุชูู ุงุฑุงุฆู ฺฏุดุชู ุงุณุช [`PEP 526 <https://www.python.org/dev/peps/pep-0526/>`__]. ุจุฑ ุงุณุงุณ ุงู ุณูุฏุ ุณูุชฺฉุณ ุชุนุฑู ฺฉ ูุชุบุฑ ุจู ููุฑุงู ููุน ุจู ุตูุฑุช ุฒุฑ ุฎูุงูุฏ ุจูุฏ::

    var: annotation

ฺฉู ุฏุฑ ุขู var ูุงู ูุชุบุฑ ู annotation ููุน ููุฑุฏ ูุธุฑ ุฎูุงูุฏ ุจูุฏ. ููฺูู ฺูุงูฺู ุจุฎูุงูู ููุฒูุงู ุจุง ุงุนูุงู ููุน ุ ฺฉ ููุฏุงุฑ ุงููู ูุฒ ุจู ูุชุบุฑ ุฎูุฏ ุงูุชุณุงุจ ุฏูู::

    var: annotation = value


::


    >>> a: int
    >>> a
    Traceback (most recent call last):
      File "<stdin>", line 1, in <module>
    NameError: name 'a' is not defined
    >>> a = 10
    >>> a
    10

ุชูุฌู ุฏุงุดุชู ุจุงุดุฏุ ุชุง ูุจู ุงุฒ ุนูู ุงูุชุณุงุจ ูููุฒ ูุชุบุฑ ุงุฌุงุฏ ูุดุฏู ุงุณุชุ ฺุฑุง ฺฉู ุงู ูุงู ููโุฏุงูุฏ ุจุงุฏ ุจู ฺู ููุฏุงุฑ ุฏุฑ ุญุงูุธู ุงุดุงุฑู ุฏุงุดุชู ุจุงุดุฏ.

::

    >>> item: int
    >>> for item in [1, 3, 9]:
    ...     print(item)
    ... 
    1
    3
    9



::

    >>> a: int = 5
    >>> a
    5
    >>> type(a)
    <class 'int'>


**ุงุณฺฉุฑูพุช ุฒุฑ ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ:**


.. code-block:: python
    :linenos:

    # sample.py

    a: int

    a = 'python'

    print(type(a))
    print(a)

ฺูุงูฺู ุงุณฺฉุฑูพุช ููู ุฑุง ุจุง ูพุงุชูู ุงุฌุฑุง ููุงู- ุงุณฺฉุฑูพุช ููู ุจุฏูู ูฺ ุฎุทุง ุงุฌุฑุง ูโฺฏุฑุฏุฏ::

    $ python3 sample.py                                                                     
    <class 'str'>
    python

ูู ุงฺฏุฑ ุงุณฺฉุฑูพุช ููู ุฑุง ุจุง mypy ุชุณุช ููุงู::

    $ mypy sample.py
    sample.py:5: error: Incompatible types in assignment (expression has type "str", variable has type "int")
    Found 1 error in 1 file (checked 1 source file)

ฺฉ ุฎุทุง ฺฏุฒุงุฑุด ูโฺฏุฑุฏุฏ (ุจุฑ ุฑู ุณุทุฑ ต)ุ ฺุฑุง ฺฉู ููุน ูุชุบุฑ ``a`` ุจุฑุงุจุฑ ``int`` ูุดุฎุต ุดุฏู ุงุณุช ูู ุจุง ฺฉ ููุฏุงุฑ ุงุฒ ููุน ``str`` ููุฏุงุฑุฏู ุดุฏู ุงุณุช.


Function Annotations 
~~~~~~~~~~~~~~~~~~~~~~

ุณูุฏ [`PEP 3107 <https://www.python.org/dev/peps/pep-3107/>`__] ุจู ุงุฑุงุฆู ุณูุชฺฉุณ ูุฑุจูุท ุจู ุงุนูุงู ููุน ุฏุฑ ุชุนุฑู ูพุงุฑุงูุชุฑูุง ู ูุฒ ููุน ููุฏุงุฑ ุฎุฑูุฌ ุฏุฑ ูพุงุชูู ูโูพุฑุฏุงุฒุฏ::

    def func(arg: arg_type, optarg: arg_type = default) -> return_type:
        ...

::

    >>> a: int = 7

    >>> def square_area(x:int=2) -> int:
    ...     return x * x
    ... 
    >>> square_area()
    4
    >>> square_area(5)
    25


::

    >>> square_area.__annotations__
    {'x': <class 'int'>, 'return': <class 'int'>}

    >>> __annotations__
    {'a': <class 'int'>}

ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ attribute ูฺู ุฏุฑ ูพุงุชูู ุจู ูุงู ``__annotations__`` ูโุชูุงู ุฏุฑ ุฒูุงู runtime ุจู ูุดุฎุตุงุช ู ููุน ุชุนุฑู ุดุฏู ุฏุฑ ฺฉ ุด ุชุงุจุนุ ฺฉูุงุณ ุง ูุงฺูู ุฏุณุชุฑุณ ูพุฏุง ฺฉุฑุฏ.

ุจุฑุง ุชูุงุจุน ฺฉู ูุงูุฏ ุฏุณุชูุฑ ``return`` ูุณุชูุฏุ ููุน ุฎุฑูุฌ ูโุจุงุณุช ุจู ุตูุฑุช ``None <-`` ุชุนุฑู ฺฏุฑุฏุฏ. ฺุฑุง ฺฉู ุญุช ุชูุงุจุน ูุงูุฏ ``return`` ูุฒ ุจู ุตูุฑุช ุถูู ุดุงูู ุฏุณุชูุฑ ``return None`` ูุณุชูุฏ::


    >>> def print_item(x:str='') -> None:
    ...     print(x)



ุณูุชฺฉุณ annotation ุจุฑุง ูพุงุฑุงูุชุฑูุง ``kwargs**`` ู ``args*`` ุจู ุตูุฑุช ุฒุฑ ูโุจุงุดุฏ::

    >>> def print_all(*args:str, **kwargs:str) -> None:
    ...     print('args:', args)
    ...     print('kwargs:', kwargs)
    ... 
    >>> 
    >>> print_all('s', ('a', 'e'))
    args: ('s', ('a', 'e'))
    kwargs: {}
    >>> print_all('d', 'c', param='pppp')
    args: ('d', 'c')
    kwargs: {'param': 'pppp'}

ุฏุฑ ุงู ููุงูุน ูุฒ ูโุจุงุณุช ููุน ุจุง ุฏูุช ูุดุฎุต ฺฏุฑุฏุฏ.



Class Annotations 
~~~~~~~~~~~~~~~~~~~~~~

ุจุฑ ุงุณุงุณ ูุทุงูุจ ุงุฑุงุฆู ุดุฏู ุชุง ุงู ูุญุธู ูโุชูุงู ุณุงุฎุชุงุฑ ฺฉ ฺฉูุงุณ ุฑุง ุจู ุตูุฑุช ุฒุฑ ุฏุฑ ูุธุฑ ฺฏุฑูุช:


.. code-block:: python
    :linenos:

    from typing import ClassVar

    class Sample:

        a: str = 'a_data'
        b: ClassVar[str] = "b_data"

        x: int

        def __init__(self, x: int, y:int=8) -> None:
            self.x = x
            self.y = y

ฺฉูุงุณ ``Sample`` ุดุงูู ุฏู Class Attribute ุจุง ูุงูโูุง ``a`` ู ``b`` - ููฺูู ุฏู Instance Attribute ุจู ูุงูโูุง  ``x`` ู ``y`` ูโุจุงุดุฏ. ุจู ุฏู ุดูู ุชุนุฑู ูุฑ ฺฉุฏุงู ุฏุฑ ูุซุงู ุจุงูุง ุชูุฌู ููุงุฏ.

ููุน ``ClassVar`` ฺฉ wrapper ุจุฑุง ููุน ูุชุบุฑูุง ุฏุงุฎู ฺฉูุงุณ ูโุจุงุดุฏ ฺฉู ูุธูู ุขู ุจุฑฺุณุจ ุฒุฏู ฺฉ ูุชุบุฑ ุจู ุนููุงู Class Attribute ูโุจุงุดุฏ. ุงู wrapper ุงุฒ ุฏุงุฎู ูุงฺูู ``typing`` ุฏุฑ ุฏุณุชุฑุณ ุฎูุงูุฏ ุจูุฏ [`ุงุณูุงุฏ ูพุงุชูู <https://docs.python.org/3/library/typing.html#typing.ClassVar>`__].

ุจู ุญุงุตู ุฏุณุชูุฑุงุช ุฒุฑ ุฏุฑ ุฑุงุจุทู ุจุง ฺฉูุงุณ ``Sample`` ูุซุงู ูุจู ุชูุฌู ููุงุฏ:




.. code-block:: python
    :linenos:


    obj = Sample(5)

    print('\nSEC#01', '-' * 30)
    print('Class  Atrr:', dir(Sample))
    print('Object Atrr:', dir(obj))

    print('\nSEC#02', '-' * 30)
    print(Sample.__annotations__)
    print(obj.__annotations__)

    print('\nSEC#03', '-' * 30)
    print('Class  vars:', vars(Sample))
    print('Object vars:', vars(obj))

    print('\nSEC#04', '-' * 30)
    print('x:', obj.x)
    print('y:', obj.y)
    print('a:', Sample.a)
    print('b:', Sample.b)

    print('\nSEC#05', '-' * 30)

    obj.x = 10
    obj.y = 16
    Sample.a = "PYTHON"
    Sample.b = "LANGUAGE"
    print('x:', obj.x)
    print('y:', obj.y)
    print('a:', Sample.a)
    print('b:', Sample.b)


::
    
    SEC#01 ------------------------------
    Class  Atrr: ['__annotations__', '__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'a', 'b']
    Object Atrr: ['__annotations__', '__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'a', 'b', 'x', 'y']

    SEC#02 ------------------------------
    {'a': <class 'str'>, 'b': typing.ClassVar[str], 'x': <class 'int'>}
    {'a': <class 'str'>, 'b': typing.ClassVar[str], 'x': <class 'int'>}

    SEC#03 ------------------------------
    Class  vars: {'__module__': '__main__', '__annotations__': {'a': <class 'str'>, 'b': typing.ClassVar[str], 'x': <class 'int'>}, 'a': 'a_data', 'b': 'b_data', '__init__': <function Sample.__init__ at 0x7faae8f16bf8>, '__dict__': <attribute '__dict__' of 'Sample' objects>, '__weakref__': <attribute '__weakref__' of 'Sample' objects>, '__doc__': None}
    Object vars: {'x': 5, 'y': 8}


    SEC#04 ------------------------------
    x: 5
    y: 8
    a: a_data
    b: b_data

    SEC#05 ------------------------------
    x: 10
    y: 16
    a: PYTHON
    b: LANGUAGE


ุชุงุจุน ``vars`` ุชูุงู attributeูุง ุด ุฏุฑุงูุช ุฑุง ุฏุฑ ูุงูุจ ฺฉ ุด ุฏฺฉุดูุฑ ุจุฑูโฺฏุฑุฏุงูุฏ [`ุงุณูุงุฏ ูพุงุชูู <https://docs.python.org/3/library/functions.html#vars>`__].



ูุงฺูู typing
~~~~~~~~~~~~~~~~~~~~~~






Data Classes
----------------------------

ุงุฒ **ูุณุฎู 3.7 ูพุงุชูู** ฺฉ ูฺฺฏ ุฌุงูุจ ุจู ูพุงุชูู ุงุถุงูู ฺฏุฑุฏุฏ. ุฏุชุง ฺฉูุงุณ **(Data Class)** [`PEP 557 <https://www.python.org/dev/peps/pep-0557>`__]ุ ุฏุฑ ูุงูุน ฺฉ ุณูุชฺฉุณ ุณุงุฏูโุณุงุฒ ุดุฏู ุจุฑุง ุงุฌุงุฏ ฺฉูุงุณโูุง ฺฉู ูุนูููุง ุชููุง ุญุงู Instance Attribute ูโุจุงุดูุฏ. ุงู ููุน ฺฉูุงุณ ุจุง ุงุณุชูุงุฏู ุงุฒ ุฏฺฉูุฑุงุชูุฑ ``dataclass@`` ุงุฒ ูุงฺูู ``dataclasses`` ุงุฌุงุฏ ูโฺฏุฑุฏุฏ [`ุงุณูุงุฏ ูพุงุชูู <https://docs.python.org/3/library/dataclasses.html>`__]. ุจุฑุง ูุซุงู ฺฉูุงุณ ุฒุฑ ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ:


.. code-block:: python
    :linenos:

    from dataclasses import dataclass

    @dataclass
    class Student:
        name: str
        score: int

    student = Student('Saeid', 70)
    print(student)
    print('-' * 30)
    print(student.name)
    print(student.score)
    print('-' * 30)
    print(Student('Saeid', 70) == Student('Saeid', 70))

::

    Student(name='Saeid', score=70)
    ------------------------------
    Saeid
    70
    ------------------------------
    True


ุฏุฑ ุงู ููุน ฺฉูุงุณ ุจุฑุง ุชุนุฑู Attributeูุง ุงุฒ ุณูุชฺฉุณ  Variable Annotations [`PEP 526 <https://www.python.org/dev/peps/pep-0526/>`__] ุงุณุชูุงุฏู ูโุดูุฏ. ุงู ุณูุชฺฉุณ ู ุฏุฑ ฺฉู ุฐฺฉุฑ ููุน ุฏุงุฏู ุฏุฑ ูพุงุชูู ุง Type Hints [`PEP 484 <https://www.python.org/dev/peps/pep-0484/>`__] **ููุถูุน ุฏุฑุณ ุจุนุฏ ุงุณุช**. ุฏุฑ ุงู ุดูู ููุน ูุชุบุฑูุง ุจู ุตุฑุงุญุช ุฐฺฉุฑ ูโฺฏุฑุฏุฏ. ุฏุฑ ุญุงูุช ุนุงุฏ ุชุนุฑู ฺฉ ูุชุบุฑ ุฏุฑ ุฒุจุงู ุจุฑูุงููโููุณ ูพุงุชูู ุจู ุตูุฑุช ``var = value`` ูโุจุงุดุฏ (ุฏุฑุณ ุดุดู)ุ ููุงูุทูุฑ ฺฉู ูโุฏุงูู ุชุงฺฉููู ูฺโฺฏุงู ุฏุฑ ูพุงุชูู ุจุฑุง ุชุนุฑู ูุชุบุฑ ูุงุฒ ุจู ุฐฺฉุฑ ุตุฑุญ ููุน ุฏุงุฏู ููโุจูุฏุ **ุงฺฉููู ูุฒ ูุงุฒ ูุณุช**ุ ูู ุงุฒ **ูุณุฎู 3.6 ูพุงุชูู** ูโุชูุงูู ุงูฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏููุ ูโุชูุงูู ููุน ุฏุงุฏู ุฑุง ุฎูุฏูุงู ูุดุฎุต ฺฉูู ุง ุจู ุงุตุทูุงุญ ุขู ููุน ุฑุง annotation ฺฉูู. ุณูุชฺฉุณ ุงู ุนููุงุช ุจู ุตูุฑุช ``var: annotation`` ูโุจุงุดุฏุ ุงู ุณูุชฺฉุณ ูุดุฎุต ูโฺฉูุฏ ฺฉู ูุชุบุฑ var ุงุฒ ููุน annotation ูโุจุงุดุฏ. ููฺูู ุจุง ุงุณุชูุงุฏู ุงุฒ ุณูุชฺฉุณ ``var: annotation = value`` ูุฒ ูโุชูุงู ููุฒูุงู ุนููุงุช ุงูุชุณุงุจ ู ููุฏุงุฑุฏู ุฑุง ูุฒ ุงูุฌุงู ุฏุงุฏ. ุจุงุฏ ุชูุฌู ุฏุงุดุช ฺฉู ุชุบุฑ ุฏุฑ ุณุงุฎุชุงุฑ ููุณุฑ ูพุงุชูู ุงุฌุงุฏ ูุดุฏู ุงุณุช!ุ ุจูฺฉู ุตุฑูุง ุณูุชฺฉุณ ุฌุฏุฏ ุงุถุงูู ุดุฏู ฺฉู ูโุชูุงูุฏ ุจู ุงุจุฒุงุฑูุง ุดุฎุตโุซุงูุซ (third party) ููุงููุฏ IDEูุง ุจุฑุง ฺฉูุชุฑู ููุน ุฏุงุฏูโูุง ุฏุฑ ุฒูุงู ุชูุณุนู ุจุฑูุงูู ุงุฑโุฑุณุงู ุจุงุดุฏ.

ุจุงุฏ ุชูุฌู ุฏุงุดุช ฺฉู ุทุจู ุณูุฏ PEP 484 ูพุฑู ุงุฒ ุงุตูู Type Hints ุฏุฑ ูพุงุชูู ุงุฌุจุงุฑ ูุจูุฏู ู ูุฎูุงูุฏ ุดุฏ. ูู Data Class ฺฉ ุงุณุชุซูุงุณุช ู ุฏุฑ ุขู ุญุชูุง ูโุจุงุณุช Attributeูุง ุจู ุดูู ุดุฑุญ ุฏุงุฏู ุดุฏูุ ุชุนุฑู ฺฏุฑุฏูุฏ ู ุจู ุขูโูุง ููุฏูุง (field) ุฏุชุง ฺฉูุงุณ ฺฏูุชู ูโุดูุฏ.

ุงุฒ ุขูุฌุง ฺฉู ุงู ููุน ฺฉูุงุณ ุจุฑุง ุงุฌุงุฏ ฺฉ ฺฉุงุฑุจุฑุฏ ุนููู ุงุฒ ฺฉูุงุณโูุง ุชูุณุนู ุงูุชู (ูฺฏูุฏุงุฑ ุงุทูุงุนุงุช)ุ ุจูุงุจุฑุงู ุจุณุงุฑ ุงุฒ ุนููุงุชโูุง ุฏุฑ ุขู ุฎูุฏฺฉุงุฑุณุงุฒ ุดุฏู ุชุง ูพุงุฏูโุณุงุฒ ุงู ฺฉูุงุณ ุณุงุฏูโุชุฑ ุงุฒ ูุฑ ฺฉูุงุณ ุฏฺฏุฑ ุจุงุดุฏ. ุจุฑุง ูุซุงู ูุงุฒ ุจู ูพุงุฏูโุณุงุฒ ูุชุฏ ``__init__`` ูุณุช ู ุงู ูุชุฏ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุจุฑุง ฺฉูุงุณ ูุง ุงุฌุงุฏ ูโฺฏุฑุฏุฏ. ุงฺฉููู ุงฺฏุฑ ุจุฎูุงูู ุฏุชุงฺฉูุงุณ ูุซุงู ูุจู ุฑุง ุจู ุตูุฑุช ุนุงุฏ ูพุงุฏูโุณุงุฒ ฺฉูู:


.. code-block:: python
    :linenos:

    class Student:

        def __init__(self, name, score):
            self.name = name
            self.score = score


    student = Student('Saeid', 70)
    print(student)
    print('-' * 30)
    print(student.name)
    print(student.score)
    print('-' * 30)
    print(Student('Saeid', 70) == Student('Saeid', 70))

::

    <__main__.Student object at 0x7f922a311518>
    ------------------------------
    Saeid
    70
    ------------------------------
    False


ุจุง ููุงุณู ุงู ุฏู ุฎุฑูุฌุ ูุดุงูุฏู ูโุดูุฏ ฺฉู ููุฏุงุฑ ฺุงูพ ุด (ุณุทุฑ น) ู ูุฒ ุญุงุตู ููุงุณู ุฏู ุด (ุณุทุฑ ฑด) ุจุง ููุงุฏุฑ ฺฉุณุงู ูุชูุงูุช ุงุณุช. ุฏูู ูุฒ ูพุดุชุฑ ุจุงู ุดุฏุโ ุชุนุฏุงุฏ ูุชุฏ ุฎุงุต ููุงููุฏ ``__init__`` ุจุฑุง ุฏุชุง ฺฉูุงุณโูุง ูพุงุฏูโุณุงุฒ ูโุดูุฏ ฺฉู ุจุง ูพุงุฏูโุณุงุฒ ูพุดโูุฑุถ ูุชูุงูุชโ ุจูุฏู ู ุจุฑ ููุน ฺฉุงุฑุจุฑุฏ ุงู ฺฉูุงุณโูุง ู ุฑุงุญุช ุงุณุชูุงุฏู ุขูโูุง ุชูุฑฺฉุฒ ุดุฏู ุงุณุช. ุงู ูพุงุฏูโุณุงุฒ ุฑุง ูโุชูุงู ุจู ุตูุฑุช ุฒุฑ ููุงุด ุฏุงุฏ:



.. code-block:: python
    :linenos:

    class Student:

        def __init__(self, name, score):
            self.name = name
            self.score = score

        def __str__(self):
            return (f'{self.__class__.__name__}'
                    f'(name={self.name!r}, score={self.score!r})')

        def __eq__(self, other):
            return (self.name, self.score) == (other.name, other.score)


    student = Student('Saeid', 70)
    print(student)
    print('-' * 30)
    print(student.name)
    print(student.score)
    print('-' * 30)
    print(Student('Saeid', 70) == Student('Saeid', 70))

::

    Student(name='Saeid', score=70)
    ------------------------------
    Saeid
    70
    ------------------------------
    True

ุงุฒ ุฏุฑุณ ูพุด ุจุง ูุชุฏ ``__eq__`` ุขุดูุง ูุณุชูุ ูุชุฏ ``__str__`` [`ุงุณูุงุฏ ูพุงุชูู <https://docs.python.org/3/reference/datamodel.html#object.__str__>`__] ูุฒ ฺฉ ุฏฺฏุฑ ุงุฒ ูุชุฏูุง ุฎุงุต ูพุงุชูู ูโุจุงุดุฏ ู ููฺฏุงู ฺฉู ฺฉ ุด ูโุฎูุงูุฏ ุจู ููุน str ุชุจุฏู ฺฏุฑุฏุฏุ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ูุฑุงุฎูุงู ูโฺฏุฑุฏุฏ (**ุชุจุฏู ุจู ููุน ุฑุดุชู - ุฏุฑุณ ููุชู**)ุ ุจู ุตูุฑุช ูุดุงุจู ูุชุฏ ``__repr__`` [`ุงุณูุงุฏ ูพุงุชูู <https://docs.python.org/3/reference/datamodel.html#object.__repr__>`__] ูุฒ ูุงุจู ูพุงุฏู ุณุงุฒ ุงุณุช.


ูุชุฏ ``__post_init__``
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

ุฏุชุง ฺฉูุงุณโูุง ููฺูู ูโุชูุงููุฏ ุดุงูู ูุชุฏ ูุฒ ุจุงุดูุฏุ ฺฺฏููฺฏ ุชุนุฑู ูุชุฏ ุฏุฑ ุฏุชุง ฺฉูุงุณ ุชูุงูุช ุจุง ุฏฺฏุฑ ฺฉูุงุณโูุง ูุฏุงุฑุฏ. 

ุงุฒ ุทุฑู ูโุฏุงูู ฺฉู ูุชุฏ ``__init__`` ฺฉ ุฏุชุง ฺฉูุงุณ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุงุฌุงุฏ ูโฺฏุฑุฏุฏ ู ูุฑุญูู initialize ุด ุงุฒ ุฏุณุชุงู ูุง ุฎุงุฑุฌ ุดุฏู ุงุณุช. ุจุง ุงู ุญุงู ฺูุงูฺู ุงฺฏุฑ ฺฉูุงุณ  ุดุงูู ูุชุฏ ุจุง ูุงู ``__post_init__`` ุจุงุดุฏุ ุงู ูุชุฏ ูพุณ ุงุฒ ``__init__`` ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ูุฑุงุฎูุงู ูโฺฏุฑุฏุฏ:

.. code-block:: python
    :linenos:

    from dataclasses import dataclass

    @dataclass
    class Student:
        name: str
        score: int

        def __post_init__(self):
            print("__post_init__ got called:", self)
            if self.name == 'Saeed':
                self.name =  'Saeid'


    student = Student('Saeed', 70)
    print(student)

::

    __post_init__ got called: Student(name='Saeed', score=70)
    Student(name='Saeid', score=70)



ุงุฒ ุทุฑู ูุงฺูู ``dataclasses`` ฺฉ ููุน ฺฉ annotation type ุฌุฏุฏ ุจุง ูุงู ``InitVar`` ุฏุฑ ุฏุณุชุฑุณ ุงุณุช. ฺูุงูฺู ุฏุฑ ุชุนุฑู ูุฑ ฺฉ ุงุฒ Attributeูุง ฺฉูุงุณ ุงุฒ ุงู ููุน ุงุณุชูุงุฏู ฺฉููุ ุขู Attribute ุจู ุนููุงู ูพุงุฑุงูุชุฑ ุจู ูุชุฏ ``__post_init__`` ุงุฑุณุงู ูโฺฏุฑุฏุฏ. ุจุงุฏ ุชูุฌู ุฏุงุดุช ฺฉู ุงู ููุน Attributeูุง ุจู ุนููุงู **Init-only variables** ุดูุงุฎุชู ูโุดููุฏ [`ุงุณูุงุฏ ูพุงุชูู <https://docs.python.org/3/library/dataclasses.html#init-only-variables>`__] ู ููุณุฑ ูพุงุชูู ุขูโูุง ุฑุง ุตุฑูุง ุจู ``__post_init__`` ุงุฑุณุงู ูโฺฉูุฏ ู **ุฌุฒู ููุฏูุง ุฏุชุง ฺฉูุงุณ ูุฑุงุฑ ููโุฏูุฏ**:


.. code-block:: python
    :linenos:


    @dataclass
    class Student:
        name: InitVar[str]
        score: int

        def __post_init__(self, name):
            if name == 'Saeid':
                self.score =  100


    student = Student('Saeid', 70)
    print(student)


::

    Student(score=100)


ุชุงุจุน ``field`` ู ``fields``
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

ุชุงุจุน ``fields`` ุงุฒ ูุงฺูู ``dataclasses`` ฺฉ ุด ุงุฒ ุฏุชุง ฺฉูุงุณ ุง ุฎูุฏ ุฏุชุง ฺฉูุงุณ ุฑุง ุงุฒ ูุฑูุฏ ุฏุฑุงูุช ู ฺฉ ุชุงูพู ุญุงู ุชูุงู ููุฏโูุง ุขู ุจุฑ ูโฺฏุฑุฏุงูุฏ [`ุงุณูุงุฏ ูพุงุชูู <https://docs.python.org/3/library/dataclasses.html#dataclasses.fields>`__]:

.. code-block:: python
    :linenos:

    from dataclasses import dataclass, InitVar, fields

    @dataclass
    class Student:
        name: str
        score: int = 70
        age: InitVar[int] = 18


    obj = Student('saeid', 90, 20)
    print(obj)
    print(fields(obj))

::

   Student(name='saeid', score=90)
   (Field(name='name',type=<class 'str'>,default=<dataclasses._MISSING_TYPE object at 0x7f7e5c68cd68>,default_factory=<dataclasses._MISSING_TYPE object at 0x7f7e5c68cd68>,init=True,repr=True,hash=None,compare=True,metadata=mappingproxy({}),_field_type=_FIELD), Field(name='score',type=<class 'int'>,default=70,default_factory=<dataclasses._MISSING_TYPE object at 0x7f7e5c68cd68>,init=True,repr=True,hash=None,compare=True,metadata=mappingproxy({}),_field_type=_FIELD))


ูพุดโุชุฑ ฺฏูุชูุ Attributeูุง ุฏุงุฎู ฺฉ ุฏุชุง ฺฉูุงุณ ููุฏ (Field) ุฎูุงูุฏู ูโุดููุฏ. ุฎุฑูุฌ ุจุงูุง ููุงุด ุณุงุฎุชุงุฑ ฺฉ ุด Field ุงุฒ ุฏุชุง ฺฉูุงุณ ูโุจุงุดุฏ [`ุงุณูุงุฏ ูพุงุชูู <https://docs.python.org/3/library/dataclasses.html#dataclasses.field>`__]. ุฏุฑ ูุงูุน ูุชุบุฑูุง ฺฉู ุฏุงุฎู ุฏุชุง ฺฉูุงุณ ุจุง ุณูุชฺฉุณ Variable Annotations ุชุนุฑู ูโุดููุฏุ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุจู ููุฏ (Field) ุชุจุฏู ูโุดููุฏ. ููุฏูุง ูโุชูุงููุฏ ุญุงู ููุฏุงุฑ ูพุดโูุฑุถ ุจุงุดูุฏ (ููุงููุฏ ููุฏ ``score``). ุจุฑุง ฺฉุงุณุชู ุงุฒ ุญุฌู functionality ุฏุงุฎู ฺฉ ุฏุชุง ฺฉูุงุณุ ูุงฺูู ``dataclasses`` ูพุงุชูู ุดุงูู ุชุงุจุน ุงุณุช ุจุง ูุงู ``field`` ฺฉู ุชูุงูุง ู ุงูุนุทุงู ุฒุงุฏ ุฏุฑ ูุฑุงูู ุขูุฑุฏู ููุฏุงุฑ ูพุดโูุฑุถ ุจุฑุง ููุฏูุง ุชุนุฑู ุดุฏู ุงุฌุงุฏ ูโฺฉูุฏ. 

ฺฉ ุด ููุฏ ุดุงูู ูพุงุฑุงูุชุฑูุง ุงุณุช ฺฉู ุงุฒ ุทุฑู ุชุงุจุน ``field`` ูุงุจู ุชูุธู ูุณุชูุฏุ ุงูุจุชู ุจู ุฌุฒ ุฏู ูพุงุฑุงูุชุฑ ุฒุฑ ฺฉู ุงุฒ ุชุนุฑู Variable Annotations ุงุณุชูุจุงุท ูโุดููุฏ:


* ``name``: ูุงู ููุฏ

* ``type``: ููุน (type) ููุฏ

**ุชุนุฑู ููุฏุงุฑ ูพุดโูุฑุถ ุจุฑุง ฺฉ ููุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุชุงุจุน** ``field``::

    field(*, default=MISSING, default_factory=MISSING, repr=True, hash=None, init=True, compare=True, metadata=None)

* ุชูุฌู:โ ููุงูุทูุฑ ฺฉู ุงุฒ ูุจุญุซ Keyword-Only Arguments ุงุฒ ุฏุฑุณ ุฏูุงุฒุฏูู ุจู ุงุฏ ุฏุงุฑูุ ูุฑุงุฎูุงู ุงู ุชุงุจุน ุชููุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุงุฑุณุงู ุขุฑฺฏููุงู ุจู ุตูุฑุช ูุงู=ููุฏุงุฑ ูุฌุงุฒ ุฎูุงูุฏ ุจูุฏ.


* ``default``:  ููุฏุงุฑ ูพุดโูุฑุถ ููุฏุ ุฏุฑ ุตูุฑุช ุนุฏู ูุงุฒ ูโุจุงุณุช ุจุง ููุฏุงุฑ ูฺู ``MISSING`` ููุฏุงุฑุฏู ฺฏุฑุฏุฏ.

* ``default_factory``: ฺฉ ููุฌูุฏุช callable ุจุฏูู ุขุฑฺฏููุงู ุฑุง ุฏุฑุงูุช ูโฺฉูุฏ ู ุฏุฑ ุฒูุงู ฺฉู ุจู ููุฏุงุฑ ูพุดโูุฑุถ ุจุฑุง ููุฏ ูุงุฒ ุจุงุดุฏุ ูุฑุงุฎูุงู ูโฺฏุฑุฏุฏ. ุฏุฑ ุตูุฑุช ุนุฏู ูุงุฒ ูโุจุงุณุช ุจุง ููุฏุงุฑ ูฺู ``MISSING`` ููุฏุงุฑุฏู ฺฏุฑุฏุฏ. ุจู ุจุงู ุฏฺฏุฑ ูโุชูุงู ุจุง ุงุณุชูุงุฏู ุงุฒ ุงู ูพุงุฑุงูุชุฑุโ ฺฉ ุชุงุจุน ุจู ููุฏ ุงุฎุชุตุงุต ุฏุงุฏ ฺฉู ููุฏุงุฑ ุง ููุงุฏุฑ ูพุดโูุฑุถ ุฑุง ุจุฑุง ููุฏ ููุฑุฏ ูุธุฑ ุชููุฏ ููุงุฏ. 

* ุชูุฌู: ุฏุฑ ูุฑ ููุฏ ุชููุง ฺฉ ุงุฒ ุฏู ูพุงุฑุงูุชุฑ ``default`` ุง ``default_factory`` ูโุจุงุณุช ุญุงู ููุฏุงุฑ ุบุฑ ุงุฒ ``MISSING`` ุจุงุดุฏ.


* ``repr``, ``init``, ``compare``, ``hash``: ุฏุฑ ุตูุฑุช ฺฉู ูุฑ ฺฉุฏุงู ุงุฒ ุงู ูพุงุฑุงูุชุฑโูุง ุจุฑุงุจุฑ ุจุง ููุฏุงุฑ ``True`` (ูพุดโูุฑุถ) ุชูุทู ฺฏุฑุฏูุฏุ ููุฏ ูุฑุจูุทู ุจู ูุชุฏูุง ุงุฌุงุฏ ุดุฏู ูุชูุงุธุฑ ุจุง ูุฑ ูพุงุฑุงูุชุฑ ุงุฑุณุงู ุฎูุงูุฏ ุดุฏ::

      repr    -->> __repr__ __str__
      init    -->> __init__
      compare -->> __eq__ __ne__ __lt__ __le__ __gt__ __ge__
      hash    -->> __hash__


* ุชูุฌู ฺูุงูฺู ููุฏุงุฑ ``compare`` ุจุฑุง ``True`` ุชูุธู ฺฏุฑุฏุฏ (ุญุงูุช ูพุดโูุฑุถ)ุโููุฏุงุฑ ``hash`` ูโุจุงุณุช ``None`` (ู ูู ``False``) ุจุงุดุฏุ ฺุฑุง ฺฉู ุนููุงุช ููุงุณู ุฏู ุด ุฏฺฏุฑ ุจู ููุฏุงุฑ hash ูุงุจุณุชู ูุจูุฏู ู ุงุฒ ุทุฑู ูุชุฏูุง ุชููุฏ ุดุฏู (__eq__ ู ุบุฑู) ุงูุฌุงู ุฎูุงูุฏ ุดุฏ. 



|

----

:emoji-size:`๐` ุงูุฏูุงุฑู ููุฏ ุจูุฏู ุจุงุดู

`ูุทูุง ุฏุฏฺฏุงู ู ุณูุงูโูุง ูุฑุชุจุท ุจุง ุงู ุฏุฑุณ ุฎูุฏ ุฑุง ุฏุฑ ฺฉุฏุฑุฒ ูุทุฑุญ ููุงุฏ. <https://www.coderz.ir/python-tutorial-oop-data-class>`_



